<template>
  <header class="header d-flex align-items-center justify-content-between">
    <div class="header-user">
      <router-link to="/" class="user-link d-flex align-items-center">
        <div class="icon">
          <svg
            width="17"
            height="19"
            viewBox="0 0 17 19"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.49979 8.3636C7.75062 8.3636 7.01828 8.14145 6.39536 7.72523C5.77245 7.30901 5.28695 6.71743 5.00025 6.02528C4.71356 5.33314 4.63854 4.57152 4.7847 3.83674C4.93085 3.10197 5.29162 2.42703 5.82136 1.89729C6.3511 1.36754 7.02604 1.00678 7.76082 0.860627C8.49559 0.71447 9.25721 0.789483 9.94935 1.07618C10.6415 1.36287 11.2331 1.84838 11.6493 2.47129C12.0655 3.0942 12.2877 3.82655 12.2877 4.57572C12.2877 5.58033 11.8886 6.54379 11.1782 7.25416C10.4679 7.96452 9.5044 8.3636 8.49979 8.3636ZM8.49979 2.30299C8.05029 2.30299 7.61088 2.43629 7.23713 2.68602C6.86339 2.93575 6.57209 3.2907 6.40007 3.70599C6.22805 4.12127 6.18304 4.57824 6.27074 5.01911C6.35843 5.45998 6.57489 5.86494 6.89273 6.18278C7.21058 6.50063 7.61554 6.71709 8.05641 6.80478C8.49727 6.89247 8.95424 6.84747 9.36953 6.67545C9.78482 6.50343 10.1398 6.21213 10.3895 5.83838C10.6392 5.46463 10.7725 5.02523 10.7725 4.57572C10.7725 3.97296 10.5331 3.39488 10.1069 2.96866C9.68064 2.54244 9.10256 2.30299 8.49979 2.30299Z"
              fill="#1B2D39"
            />
            <path
              d="M15.3178 18.2121H1.6814C1.48048 18.2121 1.28779 18.1323 1.14572 17.9902C1.00364 17.8482 0.923828 17.6555 0.923828 17.4545V15.1818C0.923828 13.5744 1.56235 12.0329 2.69894 10.8963C3.83552 9.75974 5.37706 9.12122 6.98443 9.12122H10.0147C11.6221 9.12122 13.1636 9.75974 14.3002 10.8963C15.4368 12.0329 16.0753 13.5744 16.0753 15.1818V17.4545C16.0753 17.6555 15.9955 17.8482 15.8535 17.9902C15.7114 18.1323 15.5187 18.2121 15.3178 18.2121ZM2.43898 16.697H14.5602V15.1818C14.5602 13.9763 14.0813 12.8201 13.2289 11.9677C12.3764 11.1153 11.2203 10.6364 10.0147 10.6364H6.98443C5.7789 10.6364 4.62275 11.1153 3.77031 11.9677C2.91787 12.8201 2.43898 13.9763 2.43898 15.1818V16.697Z"
              fill="#1B2D39"
            />
          </svg>
        </div>
        <span class="username">username</span>
      </router-link>
    </div>
    <div class="header-logo">
      <router-link to="/">
        <img src="@/assets/img/Logo.svg" alt="logo" />
      </router-link>
    </div>
    <div class="header-settings position-relative">
      <button
        class="settings-link d-flex align-items-center border-0 bg-transparent"
        :class="lang ? 'active' : ''"
        @click="lang = !lang"
      >
        <span class="settings"> settings </span>
        <div class="icon">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.0547 17.457H7.57856C7.42658 17.4571 7.27997 17.4009 7.16698 17.2992C7.05399 17.1976 6.98261 17.0577 6.9666 16.9066L6.78326 15.1803C6.52732 15.0932 6.27729 14.9896 6.03473 14.8702L4.68572 15.9612C4.56766 16.0563 4.41864 16.1044 4.26725 16.0964C4.11586 16.0884 3.97276 16.0248 3.86541 15.9177L2.11445 14.1668C2.00741 14.0594 1.94378 13.9163 1.93575 13.7649C1.92773 13.6135 1.97588 13.4645 2.07098 13.3464L3.1624 11.9958C3.0428 11.7533 2.93908 11.5032 2.85191 11.2473L1.1227 11.0627C0.971637 11.0467 0.831838 10.9754 0.730215 10.8625C0.628593 10.7496 0.572332 10.6031 0.572266 10.4512V7.97463C0.572332 7.82273 0.628593 7.67622 0.730215 7.56331C0.831838 7.45041 0.971637 7.37909 1.1227 7.36309L2.84904 7.17975C2.93621 6.92377 3.03993 6.67373 3.15953 6.43121L2.06811 5.08057C1.97301 4.9625 1.92486 4.81348 1.93288 4.66209C1.94091 4.5107 2.00454 4.36761 2.11158 4.26026L3.86254 2.5093C3.96989 2.40226 4.11299 2.33862 4.26438 2.3306C4.41576 2.32258 4.56478 2.37073 4.68285 2.46582L6.0335 3.55684C6.27606 3.43744 6.52609 3.33386 6.78203 3.24676L6.96537 1.52041C6.98112 1.36885 7.05255 1.22852 7.16583 1.12661C7.27911 1.02469 7.42618 0.968444 7.57856 0.968751H10.0547C10.2066 0.968716 10.3533 1.02493 10.4662 1.12656C10.5792 1.2282 10.6506 1.36805 10.6666 1.51918L10.8496 3.24553C11.1056 3.33263 11.3558 3.43621 11.5985 3.55561L12.9487 2.46459C13.0668 2.3695 13.2158 2.32134 13.3672 2.32937C13.5186 2.33739 13.6617 2.40103 13.769 2.50807L15.52 4.25902C15.627 4.36638 15.6907 4.50947 15.6987 4.66086C15.7067 4.81225 15.6586 4.96127 15.5635 5.07934L14.4721 6.42998C14.5915 6.67258 14.6952 6.92261 14.7825 7.17852L16.5089 7.36186C16.6599 7.37795 16.7996 7.44931 16.9011 7.56221C17.0026 7.6751 17.0589 7.82156 17.0589 7.9734V10.4499C17.0592 10.6017 17.0034 10.7483 16.9021 10.8614C16.8009 10.9745 16.6614 11.0462 16.5105 11.0627L14.7842 11.246C14.6968 11.5019 14.5931 11.752 14.4737 11.9946L15.5651 13.3452C15.6602 13.4633 15.7084 13.6123 15.7003 13.7637C15.6923 13.9151 15.6287 14.0582 15.5216 14.1655L13.7707 15.9177C13.6633 16.0248 13.5202 16.0884 13.3688 16.0964C13.2175 16.1044 13.0684 16.0563 12.9504 15.9612L11.6001 14.8702C11.3574 14.9896 11.1073 15.0932 10.8512 15.1803L10.6683 16.9066C10.6522 17.058 10.5806 17.1981 10.4673 17.2998C10.3539 17.4014 10.2069 17.4575 10.0547 17.457ZM8.13104 16.2266H9.50055L9.6683 14.645C9.68146 14.5212 9.73187 14.4043 9.81286 14.3098C9.89386 14.2152 10.0016 14.1475 10.1219 14.1155C10.5553 13.9999 10.9713 13.8271 11.359 13.6016C11.4669 13.5387 11.5914 13.5101 11.716 13.5197C11.8405 13.5293 11.9592 13.5766 12.0562 13.6553L13.2933 14.6548L14.2616 13.6865L13.2604 12.4531C13.1818 12.3561 13.1345 12.2374 13.1249 12.1129C13.1153 11.9883 13.1438 11.8638 13.2067 11.7559C13.4318 11.3684 13.6041 10.9527 13.719 10.5196C13.751 10.3993 13.8188 10.2915 13.9135 10.2105C14.0081 10.1295 14.1251 10.0791 14.2489 10.066L15.8301 9.89785V8.52834L14.2489 8.36018C14.1251 8.34709 14.0081 8.29672 13.9135 8.21572C13.8188 8.13472 13.751 8.02691 13.719 7.90654C13.6041 7.47335 13.4318 7.05747 13.2067 6.66992C13.1438 6.56199 13.1153 6.43747 13.1249 6.31291C13.1345 6.18836 13.1818 6.06968 13.2604 5.97266L14.26 4.73563L13.2916 3.76725L12.0546 4.7668C11.9576 4.84548 11.8389 4.89277 11.7143 4.90237C11.5898 4.91197 11.4653 4.88342 11.3573 4.82053C10.9698 4.59563 10.5541 4.42335 10.1211 4.30824C10.0008 4.27624 9.89304 4.2085 9.81204 4.11395C9.73105 4.01941 9.68064 3.90252 9.66748 3.77873L9.50137 2.19922H8.13104L7.96328 3.78078C7.95009 3.90463 7.89962 4.02155 7.81855 4.1161C7.73748 4.21065 7.62962 4.27836 7.50924 4.31029C7.07656 4.42593 6.66124 4.59876 6.27426 4.82422C6.16632 4.88711 6.0418 4.91566 5.91725 4.90606C5.7927 4.89646 5.67402 4.84918 5.57699 4.77049L4.34119 3.7693L3.37322 4.73768L4.37318 5.97471C4.45181 6.07178 4.49902 6.19048 4.50854 6.31503C4.51807 6.43958 4.48945 6.56408 4.4265 6.67197C4.20179 7.05956 4.02952 7.47526 3.91422 7.90819C3.88222 8.02849 3.81447 8.13626 3.71993 8.21725C3.62539 8.29825 3.5085 8.34866 3.38471 8.36182L1.80314 8.52998V9.89908L3.38471 10.0672C3.5085 10.0804 3.62539 10.1308 3.71993 10.2118C3.81447 10.2928 3.88222 10.4006 3.91422 10.5209C4.02949 10.9534 4.20162 11.3686 4.42609 11.7559C4.48904 11.8638 4.51766 11.9883 4.50813 12.1128C4.49861 12.2374 4.4514 12.3561 4.37277 12.4531L3.37322 13.6881L4.3416 14.6565L5.57904 13.6569C5.67607 13.5782 5.79475 13.531 5.9193 13.5214C6.04385 13.5118 6.16837 13.5403 6.27631 13.6032C6.66363 13.8282 7.07923 14.0004 7.51211 14.1155C7.63249 14.1474 7.74035 14.2151 7.82142 14.3097C7.90249 14.4042 7.95296 14.5212 7.96615 14.645L8.13104 16.2266Z"
              fill="#293A46"
            />
            <path
              d="M8.81612 12.9601C8.07501 12.96 7.35057 12.7402 6.7344 12.3284C6.11823 11.9166 5.63801 11.3313 5.35446 10.6466C5.0709 9.96187 4.99676 9.20845 5.14139 8.4816C5.28602 7.75474 5.64294 7.08709 6.16701 6.56308C6.69108 6.03907 7.35876 5.68222 8.08564 5.53767C8.81251 5.39312 9.56592 5.46735 10.2506 5.75098C10.9353 6.0346 11.5205 6.51489 11.9322 7.1311C12.344 7.74732 12.5637 8.47178 12.5637 9.21289C12.5626 10.2064 12.1674 11.159 11.4648 11.8615C10.7623 12.564 9.80967 12.9591 8.81612 12.9601ZM8.81612 6.69617C8.31837 6.69625 7.83183 6.84392 7.41801 7.12051C7.0042 7.3971 6.68168 7.79019 6.49126 8.25006C6.30084 8.70994 6.25106 9.21596 6.34821 9.70413C6.44537 10.1923 6.6851 10.6407 7.03708 10.9926C7.38907 11.3445 7.8375 11.5842 8.32569 11.6813C8.81387 11.7784 9.31988 11.7285 9.77973 11.538C10.2396 11.3475 10.6326 11.0249 10.9091 10.6111C11.1857 10.1972 11.3332 9.71063 11.3332 9.21289C11.3325 8.54557 11.067 7.90582 10.5951 7.43399C10.1232 6.96217 9.48343 6.69682 8.81612 6.69617Z"
              fill="#293A46"
            />
          </svg>
        </div>
      </button>
      <div class="lang_menu position-absolute" :class="lang ? 'active' : ''">
        <button
          class="close_btn border-0 bg-transparent position-absolute float-right"
          @click="lang = !lang"
        >
          <svg
            width="10"
            height="10"
            viewBox="0 0 5 5"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.292969 0.191284L2.20464 2.10296M2.20464 2.10296L4.11632 4.01464M2.20464 2.10296L4.11632 0.191284M2.20464 2.10296L0.292969 4.01464"
              stroke="white"
              stroke-width="0.382335"
              stroke-linecap="round"
            />
          </svg>
        </button>
        <div class="title">Settings</div>
        <div class="langs">
          <div
            class="lang_btn active d-flex align-items-center"
            @click="langSelect('Русский')"
          >
            <div
              class="btn_type d-flex align-items-center justify-content-center"
            >
              <div class="btn_type_in"></div>
            </div>
            <span class="lang">Русский</span>
          </div>
          <div
            class="lang_btn d-flex align-items-center"
            @click="langSelect('English')"
          >
            <div
              class="btn_type d-flex align-items-center justify-content-center"
            >
              <div class="btn_type_in"></div>
            </div>
            <span class="lang">English</span>
          </div>
        </div>
      </div>
    </div>
  </header>
</template>

<script>
export default {
  data() {
    return {
      lang: false,
    };
  },
  methods: {
    langSelect(lang) {
      document.querySelectorAll(".lang_btn").forEach((e) => {
        if (e.children[1].innerText == lang) {
          e.classList.add("active");
        } else {
          e.classList.remove("active");
        }
      });
    },
  },
};
</script>

<style lang="scss" scoped>
.header {
  padding: 21px 0 11px;
  margin-bottom: 7.5px;
  .header-user,
  .header-settings {
    .user-link,
    .settings-link {
      color: #dbdbdb;
      text-align: center;
      font-family: Manrope;
      font-size: 13px;
      font-style: normal;
      font-weight: 600;
      line-height: normal;
      text-decoration: none;
      .icon {
        width: 25px;
        height: 25px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6.818px;
        background: #0c1b26;
        transition: 0.3s;
        svg {
          path {
            transition: 0.3s;
          }
        }
      }
      span {
        width: 88.636px;
        display: block;
      }
    }
    .settings-link.active {
      .icon {
        background: #41fdb9;
        svg {
          path {
            fill: #fff;
          }
        }
      }
    }
    .lang_menu {
      width: 193px;
      height: 115px;
      top: calc(100% + 40px);
      right: 0;
      border-radius: 12px;
      background: url("@/assets/img/lang_menu_bg.png"),
        linear-gradient(180deg, #151d30 0%, #41fdb9 100%);
      background-size: cover;
      padding: 10px;
      opacity: 0;
      z-index: -1;
      transition: 0.3s;
      .close_btn {
        right: 10px;
      }
      .title {
        font-family: var(--font-family);
        font-weight: 400;
        font-size: 15px;
        text-align: center;
        color: #fff;
        line-height: 30px;
        margin-bottom: 7px;
      }
      .langs {
        .lang_btn {
          width: 100%;
          height: 26px;
          gap: 8.3px;
          padding: 0 5px;
          background: url("@/assets/img/lang.svg");
          background-size: cover;
          border-radius: 8px;
          font-family: var(--font-family);
          font-weight: 400;
          font-size: 15px;
          color: rgba(255, 255, 255, 0.6);
          margin-bottom: 8px;
          &:last-child {
            margin-bottom: 0;
          }
          .btn_type {
            background: #28956e;
            border-radius: 3px;
            width: 16px;
            height: 16px;
          }
        }
        .active {
          background: url("@/assets/img/lang_active.svg");
          background-size: cover;
          color: #fff;
          .btn_type {
            background: #41fdb9;
            .btn_type_in {
              width: 8px;
              height: 8px;
              border-radius: 50%;
              background: #fff;
            }
          }
        }
      }
    }
    .lang_menu.active {
      top: calc(100% + 10px);
      opacity: 1;
      z-index: 2;
    }
  }
}
</style>
